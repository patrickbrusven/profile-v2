import React, { useEffect } from "react";

function addClass(htmlObj, className) {
  let arr;
  arr = Array.from(htmlObj);
  arr.forEach((el) => {
    el.classList.add(`${className}`);
  });
  arr.reverse().forEach((el, i) => {
    setTimeout(() => {
      el.classList.remove(`${className}`);
    }, `${i + 1}00`);
  });
}

function CornerBlobs({ wrapperClass }) {
  useEffect(() => {
    const collection = document.querySelectorAll(".animate-me");
    collection.forEach((htmlObj) => {
      const children = htmlObj.children;
      addClass(children, "disappear");
    });
  }, []);

  return (
    <svg
      id="visual"
      viewBox="0 0 900 600"
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      version="1.1"
      className={wrapperClass}
    >
      <g className="animate-me" transform="translate(900, 600)">
        <path
          d="M-432.7 0C-427.6 -32.5 -422.5 -65 -406.5 -92.8C-390.6 -120.5 -363.7 -143.5 -341.5 -164.4C-319.2 -185.4 -301.7 -204.2 -290.1 -231.3C-278.4 -258.4 -272.7 -293.9 -256.3 -321.3C-239.8 -348.8 -212.6 -368.3 -183.5 -381.1C-154.5 -394 -123.5 -400.2 -92.6 -405.6C-61.7 -410.9 -30.8 -415.5 0 -420L0 0Z"
          fill="var(--darkist)"
        ></path>
        <path
          d="M-346.1 0C-342.1 -26 -338 -52 -325.2 -74.2C-312.5 -96.4 -290.9 -114.8 -273.2 -131.6C-255.4 -148.3 -241.4 -163.3 -232 -185.1C-222.7 -206.8 -218.2 -235.1 -205 -257.1C-191.8 -279 -170.1 -294.6 -146.8 -304.9C-123.6 -315.2 -98.8 -320.2 -74.1 -324.5C-49.3 -328.8 -24.7 -332.4 0 -336L0 0Z"
          fill="var(--darker)"
        ></path>
        <path
          d="M-259.6 0C-256.6 -19.5 -253.5 -39 -243.9 -55.7C-234.3 -72.3 -218.2 -86.1 -204.9 -98.7C-191.5 -111.2 -181 -122.5 -174 -138.8C-167.1 -155.1 -163.6 -176.3 -153.8 -192.8C-143.9 -209.3 -127.6 -221 -110.1 -228.7C-92.7 -236.4 -74.1 -240.1 -55.5 -243.3C-37 -246.6 -18.5 -249.3 0 -252L0 0Z"
          fill="var(--dark)"
        ></path>
        <path
          d="M-173.1 0C-171 -13 -169 -26 -162.6 -37.1C-156.2 -48.2 -145.5 -57.4 -136.6 -65.8C-127.7 -74.1 -120.7 -81.7 -116 -92.5C-111.4 -103.4 -109.1 -117.6 -102.5 -128.5C-95.9 -139.5 -85 -147.3 -73.4 -152.4C-61.8 -157.6 -49.4 -160.1 -37 -162.2C-24.7 -164.4 -12.3 -166.2 0 -168L0 0Z"
          fill="var(--light)"
        ></path>
        <path
          d="M-86.5 0C-85.5 -6.5 -84.5 -13 -81.3 -18.6C-78.1 -24.1 -72.7 -28.7 -68.3 -32.9C-63.8 -37.1 -60.3 -40.8 -58 -46.3C-55.7 -51.7 -54.5 -58.8 -51.3 -64.3C-48 -69.8 -42.5 -73.7 -36.7 -76.2C-30.9 -78.8 -24.7 -80 -18.5 -81.1C-12.3 -82.2 -6.2 -83.1 0 -84L0 0Z"
          fill="var(--lighter)"
        ></path>
      </g>
      <g className="animate-me" transform="translate(0, 0)">
        <path
          d="M407 0C401.9 29.5 396.7 59 390.9 89.2C385.2 119.5 378.7 150.4 359.5 173.1C340.3 195.8 308.3 210.2 286.9 228.8C265.6 247.5 254.9 270.4 242.5 304.1C230.1 337.9 216 382.5 187.7 389.8C159.4 397.1 116.9 367.1 83.2 364.6C49.6 362.1 24.8 387.1 0 412L0 0Z"
          fill="var(--darkist)"
        ></path>
        <path
          d="M325.6 0C321.5 23.6 317.4 47.2 312.8 71.4C308.1 95.6 303 120.4 287.6 138.5C272.2 156.6 246.6 168.1 229.5 183.1C212.5 198 203.9 216.3 194 243.3C184.1 270.3 172.8 306 150.2 311.9C127.5 317.7 93.5 293.7 66.6 291.7C39.7 289.7 19.8 309.6 0 329.6L0 0Z"
          fill="var(--darker)"
        ></path>
        <path
          d="M244.2 0C241.1 17.7 238 35.4 234.6 53.5C231.1 71.7 227.2 90.3 215.7 103.9C204.2 117.5 185 126.1 172.2 137.3C159.4 148.5 153 162.2 145.5 182.5C138.1 202.7 129.6 229.5 112.6 233.9C95.6 238.3 70.1 220.3 49.9 218.8C29.7 217.3 14.9 232.2 0 247.2L0 0Z"
          fill="var(--dark)"
        ></path>
        <path
          d="M162.8 0C160.7 11.8 158.7 23.6 156.4 35.7C154.1 47.8 151.5 60.2 143.8 69.2C136.1 78.3 123.3 84.1 114.8 91.5C106.2 99 102 108.1 97 121.7C92.1 135.2 86.4 153 75.1 155.9C63.8 158.9 46.8 146.9 33.3 145.8C19.8 144.8 9.9 154.8 0 164.8L0 0Z"
          fill="var(--light)"
        ></path>
        <path
          d="M81.4 0C80.4 5.9 79.3 11.8 78.2 17.8C77 23.9 75.7 30.1 71.9 34.6C68.1 39.2 61.7 42 57.4 45.8C53.1 49.5 51 54.1 48.5 60.8C46 67.6 43.2 76.5 37.5 78C31.9 79.4 23.4 73.4 16.6 72.9C9.9 72.4 5 77.4 0 82.4L0 0Z"
          fill="var(--lighter)"
        ></path>
      </g>
    </svg>
  );
}

export default CornerBlobs;
